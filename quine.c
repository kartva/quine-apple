/*
#
#
#
#
*/

#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <assert.h>

char*z,*s,c,*S="@",*Q = "}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0}0w0~}0}0}0}0}0}0}0}0}0}0}0}0}0}0J0 1b0 1}0}0}0}0}0}0}0}0}0}0}0}0}0e0~]0%1\\0 1 0$1]0%1^0$1]0 1 0#1^0$1^0 1 0\"1^0$1_0 1 0!1^0 1 0\"1_0#1_0 1 0!1`0\"1a0 1b0!1^0$1]0 1 0#1]0%1P0 1,0 1 0\"1Q0 1*0 1 0#1^0$1]0 1 0 1 0!1R0 1*0 1 0\"1S0!1(0$1T0 1)0 1 0!1T0!1&0 1 0#1U0 1(0 1 0!1U0 1'0 1 0\"1V0 1'0#1^0 1 0 1 0 1W0 1&0 1 0!1^0 1 0\"1_0 1 0!1]0 1 0#1^0 1!0!1]0 1 0 1 0!1]0 1 0 1 0!1]0 1 0 1 0!1]0 1 0!1 0 1]0!1 0\"1~N041M051L061K071K071J081I091I091H0:1G0;1G0;1F0<1G0;1F0<1M051M051L061K071K071M051O031Q011S0/1T0.1U0-1V0,1V0,1W0+1W0+1W0+1X0*1W0+1W0+1X0*1W0+1X0*1Z0(1\\0&1]0%1^0$1~%1M051M041N031N041O031N041N041N031N051M04100 1;051/0 1<04100 1@011/0 1@011P021$0 1J021P011T0/1U0,1W0+1X0*1Y0)1Z0'1\\0'1Z0'1\\0&1\\0%1]0%1]0%1]0%1]0%1]0%1^0$1]0%1a0!1}0}0}0Y0~.1K071K081F0!1 091G0=1D0>1E0=1E0=1E0<1F0<1F0<1$0 1>0 1 0<1$0!1@0;1$0 1>0!1 0;1E0 1 0;1$0 1>0!1 0;1E0<1F0>1C0>1E0>1E0<1H0;1H091J071L051M041N031O031P011Q001R0/1S0/1T0-1U0,1[0'1[0&1\\0%1]0%1]0$1^0$1^0~61B0A1@0C1?0B1?0D1>0C1?0B1?0D1?0B1?0C1?0C1#0 1:0C1#0 1:0C1#0 1;0B1#0!1:0C1\"0 1:0 1 0B1!0!1;0C1!0 1>0A1C0?1D0>1E0<1F0<1F0<1G0;1F0;1H091 0 1G071K061M041N0 1 0 1 011Q011Q021P011Q001Q011R001E0 1+0/1F0!1*0/1F0 1+0.1G0!1*0.1F0!1+0~61B0B1 0 1>0D1=0E1>0E1<0E1<0G1:0H1:0J180I190I190I190I190I190I190I180J190J170J190G1=0E1>0C1@0B1@0B1@0A1A0>1D0>1D0=1F0=1E0 1 0;1H0;1H091H0:1G0:1G0;1H091I081J081J071K071L0$1~71:0G1:0H1:0G1;0G1:0K160L160M150M170L150M160M150M150K170K170I190H190H1;0F1<0F1=0E1=0E1>0D1>0D1?0?1:0 1'0@1D0>1C0@1B0@180 1(0?180\"1'0?180!1(0?180!1(0>180#1'0>180\"1)0<190\"1(0=190#1(0;1:0\"1*0:1:0\"1*091<0\"1*071<0\"1,0)1~21>0E1<0F1 0 190J170J180I180I180L160N130N130O130O140N140O120O1 0 120O130O130M150L160K190I190I1:0G1<0F1<0C1 0!1=0B1A0A1A0B1@0A1=0 1#0@1>0 1\"0?1?0 1#0>170 1&0 1#0=180 1&0!1\"0=180 1'0 1\"0<190 1+0<190 1,0:1:0 1,091;0 1,091;0 1,081<0!1+0.1~11;0G1:0K170K160K160K160M150O120P110Q110Q110P120Q120P110Q120O120P120N140N150M160K170L170J180G1=0F1;0G1<0F1=0D1&0 160D1&0 160C1&0 180B1'0 170A1'0 180A1'0 190?1C0>1)0 190>1E0<1*0 1:0<1F0;1F0 1 091G031~/1:0H190J180J170N140L150M130O130Q110Q100R1/0T1/0R100S1/0S100R1/0R100P130O130O130O140M170L170H190I190J190I190I190I1:0G1<0F1<0E1'0 150C1?0C1'0 170A1)0 160A1(0 170@1B0?1C0?1D0?1C041~2180K160L160M150M140P100R100R110Q100Q100R1/0S1.0T1.0S1/0T100R100R120P120O140N130O140M170J180K160L1$0!1/0L1%0 100K1%0 100J1%0\"100I1&0 110I1%0!110H1'0 120F1'0!130E1'0!130D1(0!140C1(0 150B1(0 150D1'0 150D1'0 160C1&0 160C1'0 15051~61&0!1+0L160M150M150N130P100R110R110R100R1.0T1.0T1.0T1.0T1-0U1#0 1(0U1.0S100Q120O130O140M150L1#0 130J170J1\"0 150I1\"0!140I1\"0!140I1!0\"150H1\"0 160H1!0!170G1\"0 180F1<0F1=0E1(0 130E1>0F1<0F1;0F1<0F1<0G1;0F1$0 16011~D1'0P1%0 1+0N140N140O130O110 1 0P100S100S1/0S1.0U1-0U1-0T1.0U1-0T1.0U1-0U1.0S1/0R110Q110P120O150L160L160K1\"0 1.0 1#0K1\"0 140I1\"0!1.0 1$0I1\"0 160H1!0 170H1;0F1=0E1=0E1\"0 1:0E1 0 1;0F1<0G1:0H1;0I180I1:0I18001~<1 0 1!0\"1 0 1(0N140N140O130O120Q1/0T1/0T1/0T1,0V1,0V1,0V1+0V1-0U1,0W1,0V1-0T1/0S1/0S1/0Q110Q130O130O130N1/0 1#0N140M1/0!1$0L160K100!1%0I190I120 1&0H1:0H1;0G1;0F1;0H1;0J170K180J180K170J180/1~}1\"1 0 1 0'1$0Q130O120P120P110R100S1-0V1-0U1-0U1,0W1,0W1+0W1+0W1*0W1+0U1.0T1/0S1/0Q110Q110 1 0O120P120O1.0 1#0O1-0!1$0M1.0!1$0M1/0 1$0L1/0!1%0J110 1&0I190I1:0H120 1&0H1:0H130 1%0J180J110 1%0J120 1$0K110 1$0J130 1$0I130!1#001~}1 1%0\\1)0 1&0Q120Q100Q110S1.0T1-0T1.0V1+0W1+0W1+0W1+0X1*0W1,0U1,0U1.0T1/0R100Q1 0 100P120P130N1-0!1$0N1-0 1%0N1-0!1$0M1.0 1%0M1.0!1$0L1/0 1%0K100!1%0J100!1%0J110 1&0I110 1&0I120 1$0J120 1%0J110!1$0J120 1$0J120!1#0K120 1#0J140 1#0I140!1!041~}1 1 0`1%0]1)0 1 0 1!0T110Q110Q110T1-0S1.0T1-0V1,0V1+0W1+0W1+0W1+0W1+0V1,0V1-0T1/0S1/0Q120Q120O130O140M1$0 1(0 1%0M1-0 1&0L160L1/0 1&0J170J110 1&0I190I180K180I190J110 1$0J180J180K130 1\"0J180K15091~{1#0^1'0$1 0U110Q110R100R1 0 1-0T1-0T1-0V1,0W1*0X1*0W1,0W1*0X1+0V1+0V1-0U1-0U1.0R110Q110Q110Q1#0 1-0P1#0 1-0O130O1$0 1.0M1%0 1.0L1%0 100K170J180J170L170K170J170L160K170K160L160L1\"0 120M1 0 130:1~}1`1#0^1(0!1$0 1 0Q110Q110R1/0S1 0 1-0T1,0U1-0V1,0W1*0W1*0Y1*0W1+0X1)0X1,0U1-0V1-0T1/0R100R100R110Q110Q120O130O140M150L170J170L170K160L160K160M160L150M140M1#0 110L1\"0 120M1 0!120:1~}1*1 0 1 0S1 0 1#0!1 0 1&0R110Q100R100S1.0U1,0W1,0U1,0V1+0W1+0W1*0W1+0X1+0W1-0T1.0S1/0S100R1#0 1,0P120P1$0 1,0P1$0!1+0P1%0 1+0P1$0!1,0O1$0!1,0O1$0!1-0M1%0!1.0K1&0 1/0K1%0!1/0K1%0 1/0L1%0 100K1$0!1/0L1$0 100L1#0!1/0M1#0 110K1#0!110K1\"0!120L1 0\"130N14061~}1n1 0 1!0V1 0%1&0R100R110Q100S1.0U1-0V1-0U1+0X1+0V1+0X1*0W1+0W1+0W1,0U1.0S1/0R100Q130O130O1!0 100N1!0!100N1!0 1#0 1-0M1!0 1$0 1-0L1&0 1.0K180K1&0 1/0J1'0 100J1&0 100J170K1%0 110K1$0 100L1#0 110K1#0 110M1\"0 110L1\"0 120O130O13051~}1,1 0 1!0W1 0$1&0R100Q110Q110R1.0U1-0V1-0V1+0W1+0W1+0W1+0W1+0W1+0W1,0V1,0U1-0U1.0R100 1 0P110Q110P1.0 1#0O130N1/0 1#0N150L100 1%0K170K180I190J180K170K170K170L160L160M150N140M150L140 1 021~}1/1 0 1 0]1&0Q110Q110Q110R1/0S1.0V1-0U1,0V1+0X1*0X1*0W1*0Y1*0X1*0W1,0V1-0S1/0R100S110P110P120O130O130N150L170J120 1%0J180I1:0I180K170K180J170L1\"0 130L1 0 140M100 1#0M110 1\"0M110!1\"0K13041~}1d1%0!1 0!1$0S110Q110Q100S1.0U1,0V1,0V1,0W1+0X1*0X1+0X1)0W1,0U1,0U1.0T1.0T1.0R110R110P1,0 1#0Q1,0 1#0Q1,0!1#0O1-0 1$0N1.0!1$0L1/0 1%0L1/0!1%0J100!1&0J100 1&0J110 1$0K110 1%0J110 1%0K110 1$0K110 1$0L100!1#0L110!1#0J130!1\"0J130\"1 0K13071~}1!1 0a1%0]1(0 1$0S110R100Q100T1-0T1-0U1-0W1*0W1+0X1*0X1*0X1*0W1+0V1-0T1/0T1.0R110P120Q120O130O1,0 1%0N1-0 1#0 1!0M1-0 1%0M1.0 1&0K170K1/0 1&0J110 1%0K170K100 1%0K110 1$0K170K110!1#0L120 1\"0L120 1#0K120!1!0L130!1 0L14081~}1!1 0_1&0]1)0 1#0 1 0Q120P120Q100S1.0T1.0S1-0V1-0V1*0W1,0W1+0V1,0W1*0W1,0U1-0U1.0S100Q1 0 1/0Q120P130O130N140N150L1.0 1&0K170K180I190I190H1:0I190I190I180J180J170K180J170K16081~81&0[1)0!1 0\"1$0 1 0M160L170K160L160M140P120O100 1 0P100S100R1/0S1.0U1.0T1.0T1-0U1-0T1/0R1/0R110Q120P130O140L170K170K170L170J110!1$0J110 1&0I110!1&0G120!1&0G120!1'0E140 1'0E140 1(0C150 1)0B150!1(0A160 1)0B160 1(0B1@0B160 1(0-1~N1 0 1 0L1)0&1(0H1;0G1;0G1;0H1:0I190I190J170K140 1!0J150N150M160M150L130O130N1\"0 100N1!0 100O1!0 100O1!0 1/0P1 0 110O1 0!1/0P1 0 120O140N140N150N150 1 0J1:0G1:0H1;0H1;0H1;0G100!1)0F100!1*0D110!1*0D110\"1*0B120\"1*0A140!1+0?150!1+0?150!1+0%1~G1 0'1(0M1(0 1,0K170K170K180I190I190H1:0H1:0H180J190I1:0I1:0I190J180J160K170K170K160L1\"0\"110K1!0!1 0 100L160M150L150N130N140N140N140N150L170K170\"1 0G180 1!0G1;0G1<0F1<0F110 1+0C1 0 1=0A140!1+0=170!1,081 0!180!1-0~O1\"0_1#0_1%0\\1&0Y1*0U1/0Q120O140N140M150L170K180K170K170L170L160K170L160M160L150O140N140N140N140N140M150L140 1 0L100 1!0!1 0K100!1 0>1 0 1 0,110!1 0<1&0*110!1 0;1'0*120<1(0*110=1)0$1 0\"130!1\"081H0:1G0<1G0=1E0B1A0A1B0&1~}111 0 1 0_1$0^1%0]1&0\\1*0U1.0R110P120O140N140M150M160L160M160M150N140N140N140O140O130P120P120P1/0 1 0Q1/0 1 0Q100 1 0<1 0 1 0/1.0 1 0=1&0,1/0?1'0)110>1'0+1-0 1 0@1'0)110?1,0 1 0!120?1C0A1A0!1!0A1@0B1>0C1?0C1@0B1A0A1A0)1~}1r1#0_1$0]1'0\\1+0V1-0S1/0Q120P120O140M150M150M160M150M150P120O140O120P130Q100R110Q110Q1/0 1 0R1,0 1 0 1 0=1%0-1.0?1&0-1-0?1'0*100?1(0)100@1(0(100@1-0\"110A1B0C1?0D1>0!1 0A1A0@1@0B1?0C1@0A1/0 110?100 110*1~}1}1V1#0_1%0\"1 0X1,0W1,0T1/0R110P120O130O140M150M160M150M150N1 0 120P120P130P110R100R1\"0 1-0Q1#0 1+0S1/0S100>1%0-1,0!1 0=1'0-1,0@1'0*1/0@1'0)110@1)0'1/0A1-0!120A1A0E1=0E1=0D1B0A1>0C1?0C1?0B1A0A1/0 110*1~}1}1V1#0^1&0\"1 0Y1+0W1-0S1/0R110P120O130N150M150M160L160M150O130P120O130Q110R100R1\"0 1-0Q1\"0 1,0R100S100>1%0-1,0A1&0,1-0@1(0)1 0 1-0A1&0)1/0 1 0?1)0(1/0A1,0\"110B1@0E1=0G1;0F1=0 1\"0A1?0C1>0D1>0C1?0C1@0+1~}1p1#0_1%0]1'0 1!0X1,0U1.0R110P120O140N140M160L160L160L170L160N140O130N140O130Q110Q110Q1\"0 1.0Q1-0 1!0@1 0 1!0,1/0 1 0>1&0,1-0@1'0,1-0 1 0>1(0*1.0@1(0'1/0C1)0%100B1+0#100C1?0G1;0F1<0G1<0!1 0 1 0@1A0A1>0D1>0D1>0D1?0+1~}1-1#0^1%0]1'0\"1 0W1,0W1-0R100Q120N140N150L160L170K170J180K180K170M150N140M150N140O140O120P1\"0 1.0@1 0!1 0,120=1 0 1$0+110=1(0*1.0!1 0=1(0*1.0\"1 0<1(0*1.0@1(0&1!0 1-0 1 0A1*0$1/0D1*0\"110D1*0 120G1;0F1=0E1<0E1>0!1\"0@1@0A1?0C1?0C1-0 110*1~G1$0]1&0]1'0[1,0V1-0S100P130N140M160K170K180J180I190J190I190J180M150L160L170L150N150N130A1 0,1#0 1/0>1&0)120>1'0)130<1)0(1/0 1\"0<1(0)1/0 1 0>1)0(1/0\"1 0=1)0&100A1*0\"110 1 0C1)0!120F1(0 120F1<0E1>0D1>0D1>0#1 0?1>0 1#0>1A0A1.0 110A1-0 120)1~G1'0[1(0[1(0 1!0W1-0S100P130M160K170K170J190I190H1;0H1:0H1:0H1:0J190K170J180J180K170L160M150?1&0'140=1(0&150=1(0'140<1*0&100 1\"0=1(0'110!1 0=1)0'1/0 1 0!1 0<1*0%100B1,0!1/0 1!0C1=0F1<0F1<0E1>0D1>0C1?0C1@0\"1!0=1@0 1\"0>1B0@1-0 120(1~H1(0[1(0 1 0X1-0S100P130M160K170J180I1:0H1:0H1;0F1<0G1;0G1<0G1;0H1:0J180I190I1:0I180A1 0)170?1%0%160>1(0%160<1)0$170;1*0%150=1)0%120 1\"0<1*0%110 1 0 1 0<1*0%110!1 0>1*0#120B1*0\"1/0 1!0D1<0 1 0D1<0E1=0E1>0C1?0D1>0C1?0C1@0\"1!0=1@0 1#0=1B0&1~I1)0Z1)0 1 0V1.0Q120N150L160J190I190H1;0G1;0F1=0F1<0E1=0F1=0F1<0H1:0I190H1:0H1:0I190@1%0$180=1(0#170=1*0#170<1*0\"170=1*0#170<1)0%110 1#0<1+0\"130 1!0>1*0#120 1 0 1 0>1*0\"120D1)0 120\"1 0A1;0 1!0C1<0!1 0C1=0E1=0E1=0D1?0D1>0C1?0$1 0=1?0!1#0=1)0 180$1~J1(0Z1)0 1 0V1.0Q120N150K180J180I190H1;0G1;0F1=0E1=0F1<0F1=0F1;0I1:0H1:0G1;0H1:0B1 0!1 0\"1:0?1&0\"180>1)0\"180=1)0#160=1+0!180<1*0#170=1)0#160>1*0#110 1#0>1*0!130 1 0 1 0?1*0!120E1<0\"1 0A1;0 1!0D1;0!1 0C1<0!1 0D1<0E1=0E1>0C1>0E1>0#1 0>1)0 140!1#0>1'0!180$1~J1(0Z1)0X1 0 1,0Q120N150K170K180I190H1;0G1;0F1<0F1=0E1=0F1<0G1<0H1:0H1:0G1;0H1:0B1 0!1 0\"190@1&0\"180>1)0!190<1*0\"170=1*0#170=1)0#160>1*0\"170=1*0\"120 1#0>1*0\"120 1 0 1 0?1*0 130 1 0B1>0D1;0 1 0E1;0!1 0C1<0!1 0C1=0E1=0D1?0C1>0D1)0 140#1!0=1(0!140!1\"0>1(0!180$1~";
#define W 68
#define H 40
char screen[H][W+1];

void clear_screen() {
    printf("\x1b[2J\x1b[H");
}

void render_frame() {
    for(int i = 0; i < H; i++) {
        screen[i][W] = 0;
        puts(screen[i]);
    }
}

const char *deserialize_frame(const char *data) {
    int x = 0, y = 0;
    
    while(*data != '~') {
        int run_length = *data++ - ' ' + 1;
        char value = (*data++ == '1') ? '#' : ' ';
        
        while(run_length--) {
			assert(x < W && y < H);
            screen[y][x++] = value;
            if(x >= W) {
                x = 0;
                y++;
            }
        }
    }
	return ++data;
}

int main() {    
	if(*Q) {
		const char *curr_frame = Q;
        clear_screen();
        
        while(*curr_frame) {
			// First part: output the quine
			z = s = S;
			for(;c=*s++;) {
				if(c == 64) {
					for(;c=*z++;) {
						if(c == '"' || c == '\\' || c == '\n') putchar('\\');
						if(c == '\n') putchar('n');
						else putchar(c);
					}
				} else putchar(c);
			}
			putchar('\n');
			
			// Second part: play the animation
            memset(screen, 0, sizeof(screen));
            curr_frame = deserialize_frame(curr_frame);
			
            render_frame();
			
            printf("\x1b[H"); // Move cursor to home position
			usleep(100000); // Sleep for 0.1 seconds
        }
    }
    
    return 0;
}